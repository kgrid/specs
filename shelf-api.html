<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>KGrid Shelf API | Knowledge Grid Specifications</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/specs/assets/css/0.styles.9cdcb7cf.css" as="style"><link rel="preload" href="/specs/assets/js/app.5515ff1c.js" as="script"><link rel="preload" href="/specs/assets/js/2.3dc1b8de.js" as="script"><link rel="preload" href="/specs/assets/js/1.7f771cfb.js" as="script"><link rel="preload" href="/specs/assets/js/32.d025cd67.js" as="script"><link rel="prefetch" href="/specs/assets/js/10.23a1f579.js"><link rel="prefetch" href="/specs/assets/js/11.c389195a.js"><link rel="prefetch" href="/specs/assets/js/12.1d996921.js"><link rel="prefetch" href="/specs/assets/js/13.4d4410c4.js"><link rel="prefetch" href="/specs/assets/js/14.37ef2a72.js"><link rel="prefetch" href="/specs/assets/js/15.5542c093.js"><link rel="prefetch" href="/specs/assets/js/16.d48fd1ce.js"><link rel="prefetch" href="/specs/assets/js/17.bd8d538c.js"><link rel="prefetch" href="/specs/assets/js/18.6d3b94c1.js"><link rel="prefetch" href="/specs/assets/js/19.eb35cfee.js"><link rel="prefetch" href="/specs/assets/js/20.c11ec329.js"><link rel="prefetch" href="/specs/assets/js/21.db1b5d88.js"><link rel="prefetch" href="/specs/assets/js/22.15d8f113.js"><link rel="prefetch" href="/specs/assets/js/23.37bc884b.js"><link rel="prefetch" href="/specs/assets/js/24.bd12738d.js"><link rel="prefetch" href="/specs/assets/js/25.3e0527be.js"><link rel="prefetch" href="/specs/assets/js/26.2d5985a6.js"><link rel="prefetch" href="/specs/assets/js/27.55e7d8a2.js"><link rel="prefetch" href="/specs/assets/js/28.2a784fa8.js"><link rel="prefetch" href="/specs/assets/js/29.7877233e.js"><link rel="prefetch" href="/specs/assets/js/3.5322f14a.js"><link rel="prefetch" href="/specs/assets/js/30.f692d0c2.js"><link rel="prefetch" href="/specs/assets/js/31.ad36ceeb.js"><link rel="prefetch" href="/specs/assets/js/4.84e1e480.js"><link rel="prefetch" href="/specs/assets/js/5.f0541060.js"><link rel="prefetch" href="/specs/assets/js/6.dfb06aa0.js"><link rel="prefetch" href="/specs/assets/js/7.7551a9fb.js"><link rel="prefetch" href="/specs/assets/js/vendors~docsearch.5e19b665.js">
    <link rel="stylesheet" href="/specs/assets/css/0.styles.9cdcb7cf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/specs/" class="home-link router-link-active"><img src="/specs/images/kgrid-logo.png" alt="Knowledge Grid Specifications" class="logo"> <span class="site-name can-hide">Knowledge Grid Specifications</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://kgrid.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  KGrid.org
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Specifications" class="dropdown-title"><span class="title">Specifications</span> <span class="arrow down"></span></button> <button type="button" aria-label="Specifications" class="mobile-dropdown-title"><span class="title">Specifications</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/specs/packaging.html" class="nav-link">
  KGrid Common Package
</a></li><li class="dropdown-item"><!----> <a href="/specs/activation.html" class="nav-link">
  KGrid Activation
</a></li><li class="dropdown-item"><!----> <a href="/specs/runtimes.html" class="nav-link">
  KGrid Runtime Adapters
</a></li><li class="dropdown-item"><!----> <a href="/specs/shelf-api.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  KGrid Shelf API
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/kgrid/koio" target="_blank" rel="noopener noreferrer" class="nav-link external">
  KOIO
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/kgrid/specs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://kgrid.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  KGrid.org
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Specifications" class="dropdown-title"><span class="title">Specifications</span> <span class="arrow down"></span></button> <button type="button" aria-label="Specifications" class="mobile-dropdown-title"><span class="title">Specifications</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/specs/packaging.html" class="nav-link">
  KGrid Common Package
</a></li><li class="dropdown-item"><!----> <a href="/specs/activation.html" class="nav-link">
  KGrid Activation
</a></li><li class="dropdown-item"><!----> <a href="/specs/runtimes.html" class="nav-link">
  KGrid Runtime Adapters
</a></li><li class="dropdown-item"><!----> <a href="/specs/shelf-api.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  KGrid Shelf API
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/kgrid/koio" target="_blank" rel="noopener noreferrer" class="nav-link external">
  KOIO
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/kgrid/specs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>KGrid Shelf API</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/specs/shelf-api.html#introduction" class="sidebar-link">Introduction</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/specs/shelf-api.html#purpose" class="sidebar-link">Purpose</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/specs/shelf-api.html#status-of-this-document" class="sidebar-link">Status of this document</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/specs/shelf-api.html#conformance" class="sidebar-link">Conformance</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/specs/shelf-api.html#terminology" class="sidebar-link">Terminology</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/specs/shelf-api.html#knowledge-object" class="sidebar-link">Knowledge Object</a></li></ul></li><li><a href="/specs/shelf-api.html#overview-of-the-api" class="sidebar-link">Overview of the API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/specs/shelf-api.html#resource-api" class="sidebar-link">Resource API</a></li><li class="sidebar-sub-header"><a href="/specs/shelf-api.html#import-export-api" class="sidebar-link">Import/Export API</a></li><li class="sidebar-sub-header"><a href="/specs/shelf-api.html#resolver-api" class="sidebar-link">Resolver API</a></li><li class="sidebar-sub-header"><a href="/specs/shelf-api.html#additional-considerations-and-notes" class="sidebar-link">Additional considerations and notes</a></li></ul></li><li><a href="/specs/shelf-api.html#resource-api-2" class="sidebar-link">Resource API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/specs/shelf-api.html#get-kos" class="sidebar-link">GET /kos</a></li><li class="sidebar-sub-header"><a href="/specs/shelf-api.html#get-kos-naam-name-version" class="sidebar-link">GET /kos/naam/name/version</a></li><li class="sidebar-sub-header"><a href="/specs/shelf-api.html#get-kos-naan-name" class="sidebar-link">GET /kos/naan/name</a></li></ul></li><li><a href="/specs/shelf-api.html#import-export-api-2" class="sidebar-link">Import/Export API</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/specs/shelf-api.html#resolver-api-2" class="sidebar-link">Resolver API</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/specs/shelf-api.html#manifest-files" class="sidebar-link">Manifest files</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/specs/shelf-api.html#references" class="sidebar-link">References</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/specs/shelf-api.html#arkidscheme-draft-ark-identifier-scheme" class="sidebar-link">ARKIDSCHEME — Draft ARK Identifier Scheme</a></li><li class="sidebar-sub-header"><a href="/specs/shelf-api.html#arksintheopen-arks-in-the-open-project-at-lyrarsis" class="sidebar-link">ARKSINTHEOPEN — ARKs in the Open Project at Lyrarsis</a></li><li class="sidebar-sub-header"><a href="/specs/shelf-api.html#arkids" class="sidebar-link">ARKIDS</a></li><li class="sidebar-sub-header"><a href="/specs/shelf-api.html#arkidscheme-archival-resource-key-ark-identifiers" class="sidebar-link">ARKIDSCHEME — Archival Resource Key (ARK) Identifiers</a></li><li class="sidebar-sub-header"><a href="/specs/shelf-api.html#arkurischeme-draft-ark-uri-scheme" class="sidebar-link">ARKURISCHEME — Draft ARK URI Scheme</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="kgrid-shelf-api"><a href="#kgrid-shelf-api" class="header-anchor">#</a> KGrid Shelf API</h1> <h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p>Systems are being designed and built to help move biomedical knowledge into practice more quickly, more broadly, more accurately than ever before. These systems will rely on both long-term access and management of compound digital objects within digital repositories, and deployment and integration of these objects as services in a broad range of environments. We think of these two requirements as the &quot;resource&quot; perspective, and the &quot;activation&quot; perspective. This requires infrastructural standards and specifications that enable integration at scale.</p> <p>In the Knowledge Grid, Knowledge Objects (KOs) are represented as RDF resources and described by the Knowledge Object Implementation Ontology (KOIO). Knowledge Objects are managed in a simple repository which largely conforms to the <a href="https://www.w3.org/TR/ldp/" target="_blank" rel="noopener noreferrer">Linked Data Platform<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> conceptual model. The Knowledge Object Common Packaging specification (KOCP), the KOIO, and the repository operations described here, taken together, form the specification of the &quot;resource&quot; perspective for the Knowledge Grid.</p> <p>For more on the &quot;activation&quot; perspective for the Knowledge Grid, and how KOs are deployed as services in a range of runtimes, see <a href="/specs/activation.html">KGRID Activation Spec</a></p> <h2 id="purpose"><a href="#purpose" class="header-anchor">#</a> Purpose</h2> <p>This API document applies to the Knowledge Object repository component, commonly referred to as the <em>Shelf</em>.</p> <p>The <em>Shelf</em> component also serves, in part, as a reference implementation of the Knowledge Object Common Packaging specification, and may be useful for implementers of additional components using Knowledge Objects in their own components.</p> <p>This document describes an API which exposes the compound digital objects comprising Knowledge Objects as a collection of resources. The API is a mostly RESTful HTTP interface, which abstracts the actual storage mechanism (filesystem, RDF store, graph or document datastore). Requests and responses in the Shelf API are mostly linked-data resources serielized as <em>json-ld</em> and binary files (the <em>Payload</em>).</p> <h2 id="status-of-this-document"><a href="#status-of-this-document" class="header-anchor">#</a> Status of this document</h2> <p>This document is draft. It has no official standing of any kind and does not represent the support or consensus of any standards organisation.</p> <h2 id="conformance"><a href="#conformance" class="header-anchor">#</a> Conformance</h2> <p>Sections marked as non-normative, authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Most everything else in this specification is normative.</p> <p>The key words <conform>may</conform>, <conform>must</conform>, <conform>must not</conform>, <conform>should</conform>, and <conform>should not</conform> are to be interpreted as described in [RFC2119].</p> <h2 id="terminology"><a href="#terminology" class="header-anchor">#</a> Terminology</h2> <p>See [KOIO] for matching ontology terms....</p> <h3 id="knowledge-object"><a href="#knowledge-object" class="header-anchor">#</a> Knowledge Object</h3> <p>A collection of metadata containers and binary resources that together have a unique identifier (including version). In addition to the metadata, there are three required binaries: a service description, a deployment description, and one or more payload files. THe payload files implement one or more service endpoints described by the service description, and deployable using the information in the deployment description. See [Activation Spec] for details of the roles of the these files.</p> <blockquote><p>KOIO term — koio:KnowledgeObject</p></blockquote> <h2 id="overview-of-the-api"><a href="#overview-of-the-api" class="header-anchor">#</a> Overview of the API</h2> <h4 id="the-shelf-api-is-divided-into-three-sub-apis"><a href="#the-shelf-api-is-divided-into-three-sub-apis" class="header-anchor">#</a> The <em>Shelf API</em> is divided into three sub-APIs:</h4> <h3 id="resource-api"><a href="#resource-api" class="header-anchor">#</a> Resource API</h3> <p>Basic access to Knowledge Objects and their sub-components. A thin layer over the basic CRUD operations for the underlying repository implementation (compound digital objects store). Resources are either linked-data containers (json-ld representations), service and deployment descriptions (json/yaml), or binary data streams (payload files). Resource paths follow the <a href="">KOCP</a></p> <h3 id="import-export-api"><a href="#import-export-api" class="header-anchor">#</a> Import/Export API</h3> <p>Allows uploading and downloading compressed archives representing KOs and conforming to the <a href="">KOCP</a>. In addition the <em>Import/Export API</em> accepts a post with either a single URL pointing to a <em>manifest</em>, or a request body with a <em>manifest</em> (in <code>json</code> format), of external URLs from which multiple packaged KOs will be loaded.</p> <h3 id="resolver-api"><a href="#resolver-api" class="header-anchor">#</a> Resolver API</h3> <p>The <em>Resolver API</em> accepts an <a href="https://17beta.top/en/ark_uri_scheme#rfc.section.4.1" target="_blank" rel="noopener noreferrer">Embedded ARK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and redirects to the local linked-data resource. CLients who can navigate to resources (via links) are correctly form direct links to resources <conform>should</conform> should use the <em>Resource API</em> directly. The <em>Resolver API</em> conforms to the <a href="https://17beta.top/en/ark_uri_scheme" target="_blank" rel="noopener noreferrer">The ARK URI scheme<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="additional-considerations-and-notes"><a href="#additional-considerations-and-notes" class="header-anchor">#</a> Additional considerations and notes</h3> <ul><li><p><strong>Resource Identifiers</strong> — By convention, the Knowledge Grid uses the <code>naan/name/{qualifier}</code> portion of the ARK (dropping the scheme) as the API route, and for the <code>@id</code> element in KO linked-data resource representations. This is convenient and aligns well with many underlying storage implementations (like the filesystem), as well as the <a href="/specs/packaging.html">KOCP</a>.
</p><p> This convention also gives a natural hierarchy and preserves the ARK <code>{qualifier}</code>, which is used to add a version string to the component path and additional component and variant paths as needed, usually, <code>/version{/optional/component/path/artifact.variant}</code>. See <a href="https://tools.ietf.org/id/draft-kunze-ark-24.html#rfc.section.2.5" target="_blank" rel="noopener noreferrer">ARK URI Scheme, Qualifier Part<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://wiki.lyrasis.org/display/ARKs/ARK+Identifiers+FAQ#ARKIdentifiersFAQ-Whatdoes%22suffixpassthrough%22mean?" target="_blank" rel="noopener noreferrer">Ark Idendtifiers FAQ, What does &quot;suffix passthrough&quot; mean?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for more info on qualifiers.</p></li> <li><p><strong>Write Access</strong> — <proposed>[proposed]</proposed> Write access may be disabled by an administrator for particular deployments of the <em>Shelf</em> repository. In that case:</p> <ul><li>For the <em>Import/Export API</em> the import operation will be disabled, and a status code <code>403 Forbidden</code> will be returned.</li> <li>For the <em>Resource API</em>, create, update, and delete operations on KOs (if implemented), and their sub-components, will be unavailable, and a status code <code>403 Forbidden</code> will be returned.</li></ul></li> <li><p><strong>Access to Payload files</strong> — <proposed>[proposed]</proposed> Access to payload files may be disabled by rule by an administrator for a particular deployment of the <em>Shelf</em> repository. In that case:</p> <ul><li>For the <em>Resource API</em> only the metadata, service and deployment description files will be available. Payload (and any other files) will not be available.</li> <li>For the <em>Import/Export API</em> the export operation will be disabled and a status code of <code>403 Forbidden</code> will be returned.</li></ul></li> <li><p><em><strong>Manifest</strong></em> <strong>handling</strong> — In addition to the use of <a href="#manifest-files">manifests</a> in the <em>Import/Export API</em> for loading multiple KOs at once, manifests may be used to load the shelf at start-up with predetermined sets of KOs. If the optional environment property <code>kgrid.shelf.manifest</code> is set to the URL(s) of a manifest, the Shelf will attempt to load those KOs into the currently configured CDO store.
</p><p> See the <a href="">Shelf User's Guide</a> for more info on configuring and running Shelf instances and the CDO stores available for persisting KOs.</p></li> <li><p><strong>Global identifiers</strong> — The <em>Shelf API</em> does not use the ARK global identifier (metadata term: <code>dc:identifier</code>) outside of the Resolver API but all KOs, especially published KOs, are expected to have a persistent global identifier (currently only resolution of ARKs is supported). However, the Import/Export API does use the ARK on import to configure to map ARKs to/from local storage, and to package KOs in a standard, portable format on export.</p></li> <li><p><em><strong>Shelf API</strong></em> <strong>context path</strong> — The <em>Shelf API</em> is meant to be incorporated into other components, and the context path is configurable at deployment via an environment property. THe examples below use <code>/kos</code> as the context path for all three APIs mentioned above. See the <a href="">Shelf User's Guide</a> for more info.</p></li></ul> <h2 id="resource-api-2"><a href="#resource-api-2" class="header-anchor">#</a> Resource API</h2> <h3 id="get-kos"><a href="#get-kos" class="header-anchor">#</a> <code>GET /kos</code></h3> <div class="language- extra-class"><pre class="language-text"><code>GET /kos HTTP/1.1
Accept: application/ld+json
</code></pre></div><p>Returns an array of knowledge object resources (i.e. json-ld metadata resource for each KO). This list is functionally the same as a <a href="#manifest-files">manifest</a>. See the <a href="#get-naam-name-version">single KO resource endpoint</a> for more details on the returned resources.</p> <div class="language- extra-class"><pre class="language-text"><code>HTTP/1.1 200
Content-Type: application/json
[{
&quot;@id&quot;: &quot;ipp/lowercholesterol/v0.0.3&quot;,
&quot;@type&quot;: &quot;koio:KnowledgeObject&quot;,
&quot;identifier&quot;: &quot;ark:/ipp/lowercholesterol/v0.0.3&quot;,
&quot;title&quot;: &quot;Lower Cholesterol Benefit and Risk adjustment&quot;,
&quot;hasServiceSpecification&quot;: &quot;service.yaml&quot;,
&quot;hasDeploymentSpecification&quot;: &quot;deployment.yaml&quot;,
&quot;hasPayload&quot;: &quot;netbenefit.js&quot;,
&quot;@context&quot;: [
&quot;http://kgrid.org/koio/contexts/knowledgeobject.jsonld&quot;
]
},
{
&quot;@id&quot;: &quot;99999/fk4md04x9z/0.1.0&quot;,
&quot;@type&quot;: &quot;koio:KnowledgeObject&quot;,
&quot;identifier&quot;: &quot;ark:/99999/fk4md04x9z/0.1.0&quot;,
&quot;title&quot;: &quot;CPIC Genotype - Phenotype for CYP3A5&quot;,
&quot;hasServiceSpecification&quot;: &quot;service.yaml&quot;,
&quot;hasDeploymentSpecification&quot;: &quot;deployment.yaml&quot;,
&quot;hasPayload&quot;: &quot;phenotype.js&quot;,
&quot;@context&quot;: [
&quot;http://kgrid.org/koio/contexts/knowledgeobject.jsonld&quot;
]
}]
</code></pre></div><p>To get the list of KOs as a <em>manifest</em>:</p> <div class="language- extra-class"><pre class="language-text"><code>GET /kos HTTP/1.1
Accept: application/vnd.org.kgrid.manifest+json
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>HTTP/1.1 200
Content-Type: application/vnd.org.kgrid.manifest+json
[
{&quot;@id&quot;: &quot;ipp/lowercholesterol/v0.0.3&quot;},
{&quot;@id&quot;: &quot;99999/fk4md04x9z/0.1.0&quot;}
]
</code></pre></div><h3 id="get-kos-naam-name-version"><a href="#get-kos-naam-name-version" class="header-anchor">#</a> <code>GET /kos/naam/name/version</code></h3> <div class="language- extra-class"><pre class="language-text"><code>GET /kos/naam/name/version HTTP/1.1
Accept: application/ld+json
</code></pre></div><p>The minimal representation of KO contains basic metadata about the KO itself as a linked data representation. See the <a href="/specs/packaging.html">KOCP</a> for required and recommended metadata expected for a KO (although different CDO stores may add additional elements). All KO resource representations include:</p> <ul><li>an <code>@id</code> element containing a relative URI resolvable against the current base URL for the <em>Shelf</em></li> <li>A <code>@context</code> element referencing the <a href="/specs/packaging.html#2-terminology">KOIO</a> ontology, establishing the Knowledge Object specific vocabulary. The <code>@context</code> may contain an <code>@base</code> element against which relative URIs in the resource will be resolved.</li> <li>a <code>@type</code> element with a value of <code>koio:KnowledgeObject</code></li> <li>a global identifier, <code>dc:identifier</code> with a value that is an Archival Resource Key (<a href="https://n2t.net/e/ark_ids.html" target="_blank" rel="noopener noreferrer">ARK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>), which expected to be resolvable at a top-level resolver (e.g. https://n2t.net), and against the local instance of the Shelf using the <a href="#resolver-api">Resolver API</a></li></ul> <p>The KO linked-data representation <conform>should</conform> include three <a href="">KOIO</a> structural elements <code>koio:hasServiceDescription</code>, <code>koio:hasDeploymentDescription</code>, and <code>koio:hasPayload</code>. These three elements taken together describe the required &quot;activation&quot; elements, but may not be required in some scenarios. The values of these elements are (usually relative) URIs resolvable against the base URL of the resource (but may be constrained by the configuration of the shelf as mentioned above).</p> <p>Finally, some Knowledge Grid components which expose the &quot;Shelf API&quot; may add additional link relations, for example a self link, a link to a demo of the object, an array if links to the request API for this object's endpoints/services etc.</p> <div class="language- extra-class"><pre class="language-text"><code>HTTP/1.1 200
Content-Type: application/ld+json
{
&quot;@id&quot;: &quot;ipp/lowercholesterol/v2.3&quot;,
&quot;@type&quot;: &quot;koio:KnowledgeObject&quot;,
&quot;identifier&quot;: &quot;ark:/ipp/lowercholesterol/v2.3&quot;,
&quot;title&quot;: &quot;Lower Cholesterol Benefit and Risk adjustment&quot;,
&quot;hasServiceSpecification&quot;: &quot;service.yaml&quot;,
&quot;hasDeploymentSpecification&quot;: &quot;deployment.yaml&quot;,
&quot;hasPayload&quot;: &quot;netbenefit.js&quot;,
&quot;@context&quot;: [ &quot;http://kgrid.org/koio/contexts/knowledgeobject.jsonld&quot;]
}
</code></pre></div><h3 id="get-kos-naan-name"><a href="#get-kos-naan-name" class="header-anchor">#</a> GET /kos/naan/name</h3> <div class="language- extra-class"><pre class="language-text"><code>GET /kos/naam/name/version HTTP/1.1
Accept: application/ld+json, application/vnd.org.kgrid.manifest+json
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>HTTP/1.1 200
Content-Type: application/vnd.org.kgrid.manifest+json
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>[
{&quot;@id&quot;: &quot;ipp/lowercholesterol/v0.0.3&quot;},
{&quot;@id&quot;: &quot;ipp/lowercholesterol/v2.1&quot;, &quot;default&quot;: true}
]
</code></pre></div><p>The above format for a list of KOs is <proposed>proposed</proposed>. It corresponds to the <proposed>proposed</proposed> <em>manifest</em> format and is consistent with the <em>#IdOnly</em> <code>prefer</code> header. The <code>default:</code> parameter illustrates the scenario where a component adds use case specific elements to the manifest.</p> <h2 id="import-export-api-2"><a href="#import-export-api-2" class="header-anchor">#</a> Import/Export API</h2> <h2 id="resolver-api-2"><a href="#resolver-api-2" class="header-anchor">#</a> Resolver API</h2> <h2 id="manifest-files"><a href="#manifest-files" class="header-anchor">#</a> Manifest files</h2> <p>A manifest is simply a list of KOs represented as (minimally) an array of linked data resources, each identified by an <code>@id</code> element whose value is a URI. Absolute and relative URIs are permitted. Internally, the Shelf uses the Spring Resource abstraction which handles filesystem, URL, and classpath resources</p> <h2 id="references"><a href="#references" class="header-anchor">#</a> References</h2> <h3 id="arkidscheme-draft-ark-identifier-scheme"><a href="#arkidscheme-draft-ark-identifier-scheme" class="header-anchor">#</a> <a href="https://tools.ietf.org/id/draft-kunze-ark-24.html" target="_blank" rel="noopener noreferrer">ARKIDSCHEME<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> — Draft ARK Identifier Scheme</h3> <h3 id="arksintheopen-arks-in-the-open-project-at-lyrarsis"><a href="#arksintheopen-arks-in-the-open-project-at-lyrarsis" class="header-anchor">#</a> <a href="https://wiki.lyrasis.org/display/ARKs/ARKs+in+the+Open+Project" target="_blank" rel="noopener noreferrer">ARKSINTHEOPEN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> — ARKs in the Open Project at Lyrarsis</h3> <h3 id="arkids"><a href="#arkids" class="header-anchor">#</a> <a href="https://n2t.net/e/ark_ids.html" target="_blank" rel="noopener noreferrer">ARKIDS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <h3 id="arkidscheme-archival-resource-key-ark-identifiers"><a href="#arkidscheme-archival-resource-key-ark-identifiers" class="header-anchor">#</a> <a href="https://tools.ietf.org/id/draft-kunze-ark-24.html" target="_blank" rel="noopener noreferrer">ARKIDSCHEME<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> — Archival Resource Key (ARK) Identifiers</h3> <h3 id="arkurischeme-draft-ark-uri-scheme"><a href="#arkurischeme-draft-ark-uri-scheme" class="header-anchor">#</a> <a href="https://n2t.net/ark:21206/10015" target="_blank" rel="noopener noreferrer">ARKURISCHEME<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> — Draft ARK URI Scheme</h3></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/1/2020, 10:47:59 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/specs/assets/js/app.5515ff1c.js" defer></script><script src="/specs/assets/js/2.3dc1b8de.js" defer></script><script src="/specs/assets/js/1.7f771cfb.js" defer></script><script src="/specs/assets/js/32.d025cd67.js" defer></script>
  </body>
</html>
