(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{310:function(e,t,a){"use strict";a.r(t);var o=a(14),n=Object(o.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"kgrid-common-object-package-specifications"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kgrid-common-object-package-specifications"}},[e._v("#")]),e._v(" KGrid Common Object Package specifications")]),e._v(" "),t("h2",{attrs:{id:"introduction"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[e._v("#")]),e._v(" Introduction")]),e._v(" "),t("p",[e._v("This section is non-normative.")]),e._v(" "),t("p",[e._v("This Knowledge Object Common Packaging (KOCP) specification describes an application-independent approach to the storage of computable knowledge objects in a structured, transparent, and predictable manner. The KOCP spec is suitable for serialization and distribution of KOs. It is also the native dissemination and submission package for the Library component of Knowledge Grid (import/export). It also acts as the activatable/runnable package for the Activator component of the Knowledge Grid.")]),e._v(" "),t("h2",{attrs:{id:"overview"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),t("p",[e._v("Note: the section previously in "),t("code",[e._v("index.md")])]),e._v(" "),t("p",[e._v("Compliant Knowledge Grid components produce, consume and manage computable biomedical knowledge [CBK]. CBK that conforms to a specific conceptual model, the KGrid Common Object Model [KCOM], seeks to satisfy the following goals:")]),e._v(" "),t("ul",[t("li",[e._v("When knowledge is externalized (as a resource) it is far more findable, accessible, and significantly easier to manage in scalable information systems")]),e._v(" "),t("li",[e._v("When CBK is characterized by what it does (as a service), it is far more interoperable and reusable at the point of practice")]),e._v(" "),t("li",[e._v("When CBK is "),t("em",[e._v("both")]),e._v(" externalized as a resource "),t("em",[e._v("and")]),e._v(" characterized as a service it can participate in all phases of the research,  translational, clinical, and operational lifecycle far more easily, at a reduced cost, with more rapid adoption, and with higher degree of trust.")])]),e._v(" "),t("p",[e._v("The KGrid Common Object Package [KCOP] provides a standard way to package a collection of artifacts representing an implementation of CBK as both a managed resource and a deployable service, including code, appropriate metadata, and standards-compliant supporting artifacts.")]),e._v(" "),t("p",[e._v("CBK packaged according to the KCOP, and designed to meet the standard described in the KGrid Common Activation spec [KCA] for CBK services, will interoperate with any compliant system.")]),e._v(" "),t("h2",{attrs:{id:"purpose"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#purpose"}},[e._v("#")]),e._v(" Purpose")]),e._v(" "),t("p",[e._v("Systems are being designed and built to help move biomedical knowledge into practice more quickly, more broadly, more accurately than ever before. Those systems will rely on long-term access and management of compound digital objects within digital repositories, and deployment and integration of these objects as services in a broad class of runtimes (See KGRID Activation Spec). This requires infrastructural standards and specifications that enable integration at scale.")]),e._v(" "),t("p",[e._v("These KOCP specification arose from our work on the Knowledge Grid. The KGrid platform is focused on the externalization of computable knowledge in a readily managed and easily deployable form. We call a particular implementation of computable knowledge, packaged and ready for use in line with this specification, a Knowledge Object (KO). We face a challenge because the KOs have a dual nature, being managed as first-class digital artifacts (see FAIR principles) "),t("em",[e._v("and")]),e._v(" as enablers of services in practice.")]),e._v(" "),t("p",[e._v("To be successful at both, the KOs should be packaged with useful descriptive and semantically appropriate structural metadata, and minimal required provenance metadata. With reference to the [OAIS] model, this might include descriptive, administrative, structural, representation and preservation metadata relevant to the object. A KO also requires standards-based descriptions of the services the object can provide and some hints about how to get it running, as well as the actual executable code and other resources.")]),e._v(" "),t("p",[e._v("The KOCP spec represents our recommendations on how to meet the following needs:")]),e._v(" "),t("h4",{attrs:{id:"externalization"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#externalization"}},[e._v("#")]),e._v(" Externalization")]),e._v(" "),t("p",[e._v("To allow computable knowledge to be externalized and expressed as services")]),e._v(" "),t("h4",{attrs:{id:"service-orientation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#service-orientation"}},[e._v("#")]),e._v(" Service Orientation")]),e._v(" "),t("p",[e._v("To allow computable knowledge to be externalized and expressed as services")]),e._v(" "),t("h4",{attrs:{id:"interoperability"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#interoperability"}},[e._v("#")]),e._v(" Interoperability")]),e._v(" "),t("h5",{attrs:{id:"to-interoperate-with-existing-repositories"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#to-interoperate-with-existing-repositories"}},[e._v("#")]),e._v(" To interoperate with existing repositories")]),e._v(" "),t("h5",{attrs:{id:"to-interoperate-with-a-variety-of-runtime-deployment-environments"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#to-interoperate-with-a-variety-of-runtime-deployment-environments"}},[e._v("#")]),e._v(" To interoperate with a variety of runtime/deployment environments")]),e._v(" "),t("h4",{attrs:{id:"semantic-richness"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#semantic-richness"}},[e._v("#")]),e._v(" Semantic Richness")]),e._v(" "),t("p",[e._v("Both for computation and domain concerns, semantic web ready. Open API, LDP, Dublin core, KOIO,")]),e._v(" "),t("h4",{attrs:{id:"versioning"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#versioning"}},[e._v("#")]),e._v(" Versioning")]),e._v(" "),t("p",[e._v("Semantic versioning; archival, implementation, and API versioning")]),e._v(" "),t("h4",{attrs:{id:"trust"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#trust"}},[e._v("#")]),e._v(" Trust")]),e._v(" "),t("p",[e._v("Robustness, certification, verifiability, provenance, suitability, reputation.")]),e._v(" "),t("h2",{attrs:{id:"status-of-this-document"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#status-of-this-document"}},[e._v("#")]),e._v(" Status of this document")]),e._v(" "),t("p",[e._v("This document is draft of a potential specification. It has no official standing of any kind and does not represent the support or consensus of any standards organisation.")]),e._v(" "),t("h2",{attrs:{id:"_1-conformance"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-conformance"}},[e._v("#")]),e._v(" 1. Conformance")]),e._v(" "),t("p",[e._v("As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.")]),e._v(" "),t("p",[e._v("The key words "),t("conform",[e._v("may")]),e._v(", "),t("conform",[e._v("must")]),e._v(", "),t("conform",[e._v("must not")]),e._v(", "),t("conform",[e._v("should")]),e._v(", and "),t("conform",[e._v("should not")]),e._v(" are to be interpreted as described in [RFC2119].")],1),e._v(" "),t("h2",{attrs:{id:"_2-terminology"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-terminology"}},[e._v("#")]),e._v(" 2. Terminology")]),e._v(" "),t("p",[e._v("See [KOIO] for matching ontology terms....")]),e._v(" "),t("h4",{attrs:{id:"knowledge-object"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#knowledge-object"}},[e._v("#")]),e._v(" Knowledge Object:")]),e._v(" "),t("p",[e._v("A collection of metadata and binary files that together have a unique identifier (including version identifier). There are three required file types: a service description, a deployment description, and one or more payload files implementing the service described by the service description, deployable using the information in the deployment description. See "),t("RouterLink",{attrs:{to:"/activation.html"}},[e._v("Activation Spec")]),e._v(" for details of the roles of the these files.")],1),e._v(" "),t("blockquote",[t("p",[e._v("KOIO term — koio:KnowledgeObject")])]),e._v(" "),t("h4",{attrs:{id:"service-description"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#service-description"}},[e._v("#")]),e._v(" Service Description:")]),e._v(" "),t("p",[e._v("(Required) An document consisting of one or more files describing the services or services ([endpoints]) provide by the payload of the Knowledge Object. The service description follows the [OpenAPI V3] specification. THe service specification is a complete specification of the API that will be exposed by the knowledge grid for a particular knowledge object. Clients can consume the service specification in order to navigate the API for the object or generate client code that interacts with the object.")]),e._v(" "),t("p",[e._v("There is no default service description???")]),e._v(" "),t("p",[e._v("Currently the service description assumes a restful HTTP API.")]),e._v(" "),t("p",[e._v("The service provides an API version, list of endpoints, schemas for inputs and outputs, error codes etc.")]),e._v(" "),t("blockquote",[t("p",[e._v("KOIO term — koio:ServiceSpecification. def., an InformationArtifact that describes a computational service that is somehow enabled by a KnowledgeObject")])]),e._v(" "),t("h4",{attrs:{id:"deployment-description"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deployment-description"}},[e._v("#")]),e._v(" Deployment Description")]),e._v(" "),t("p",[e._v("A deployment descriptor  (DD) refers to a configuration file for an artifact that is deployed to some container/engine.")]),e._v(" "),t("p",[e._v("In the Knowledge Grid, a deployment descriptor:")]),e._v(" "),t("ul",[t("li",[t("conform",[e._v("should")]),e._v(" identify a suitable runtime for the payload(s) associated with a particular endpoint.")],1),e._v(" "),t("li",[t("conform",[e._v("may")]),e._v(" also provide information to a runtime adapter about the deployment (a list of data files). These properties "),t("conform",[e._v("may")]),e._v(" be runtime specific.")],1),e._v(" "),t("li",[t("conform",[e._v("may")]),e._v(" point to other artifacts used by the runtime for deployment (e.g. a Docker file)")],1),e._v(" "),t("li",[t("conform",[e._v("must")]),e._v(" be a json or yaml file with an "),t("code",[e._v('"runtime"')]),e._v(' key and an `"endpoints array of')],1)]),e._v(" "),t("blockquote",[t("p",[e._v("DeploymentInstruction = def., an InformationArtifact that describes how to deploy a KnowledgeObject in the Knowledge Grid platform")])]),e._v(" "),t("h4",{attrs:{id:"metadata"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#metadata"}},[e._v("#")]),e._v(" Metadata")]),e._v(" "),t("p",[e._v("Metadata describing the structure and elements of the KO is contained in JSON or YAML files named according to the following scheme.... At a minimum administrative metadata "),t("conform",[e._v("should")]),e._v(" include... and structural metadata "),t("conform",[e._v("should")]),e._v(" follow the KOIO, and "),t("conform",[e._v("must")]),e._v(" be in a file named "),t("code",[e._v("metadata.json")]),e._v(". See "),t("a",{attrs:{href:""}},[e._v("Conceptual KO")]),e._v(".")],1),e._v(" "),t("h4",{attrs:{id:"implementation-version-and-api-version"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#implementation-version-and-api-version"}},[e._v("#")]),e._v(" Implementation Version and API version")]),e._v(" "),t("p",[e._v("The implementation version, with the ARK (or other persistent unique ID), uniquely identifies the set of KO elements in this package and is used to name the the packaged object. The API version reference form the Service Description is not unique to the package and is not part of this Packaging Spec. See "),t("a",{attrs:{href:""}},[e._v("API Version")]),e._v(" in the "),t("a",{attrs:{href:""}},[e._v("Conceptual KO")]),e._v(", and "),t("a",{attrs:{href:""}},[e._v("Activation spec")]),e._v(".")]),e._v(" "),t("h4",{attrs:{id:"endpoint"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#endpoint"}},[e._v("#")]),e._v(" Endpoint")]),e._v(" "),t("p",[e._v("An endpoint represents a particular service offered by the KO (See #Service Description, above). Payloads "),t("conform",[e._v("may")]),e._v(" be organized to implement each payload separately or "),t("conform",[e._v("may")]),e._v(" be grouped together in Payload files. See "),t("a",{attrs:{href:""}},[e._v("Activation spec")])],1),e._v(" "),t("h4",{attrs:{id:"payload"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#payload"}},[e._v("#")]),e._v(" Payload")]),e._v(" "),t("p",[e._v("An array of binary artifacts comprising the actual implementation of one or more endpoints....")]),e._v(" "),t("h2",{attrs:{id:"_3-the-knowledge-object-common-package"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-the-knowledge-object-common-package"}},[e._v("#")]),e._v(" 3. The Knowledge Object Common Package")]),e._v(" "),t("p",[e._v("A key goal is allowing KOs to be nearly ready to be integrated into practice. A central feature of KOs is there dual nature as digital artifacts needing to meet the FAIR principles and services that can be used at scale in a variety of systems. See [KO Whitepaper] or [What is a KO?] or [Knowledge Object Primer]....")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("naan-name-version [object root]\n  ├── metadata.json\n  ├── service.yaml\n  ├── deployment.yaml\n  ├── payload_file_1\n  ├── payload_file_2\n  ├── ... more payload files\n  ├── payload-directory [optional]\n  │     └── ... more payload files\n  ├── payload_manifest.json [optional]\n  ├── metadata_file_1\n  ├── metadata_file_2\n  └── ... more metadata files\n\n")])])]),t("h3",{attrs:{id:"metadata-json"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#metadata-json"}},[e._v("#")]),e._v(" metadata.json")]),e._v(" "),t("p",[e._v("The metadata.json file contains the structural description of the object")]),e._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v('\n"@id"'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ark:naan/name/version"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v('\n"@type"'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"koio:KnowledgeObject"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v('\n"@context"'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"http://kgrid.org/koio/contexts/knowledgeobject.jsonld"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v('"koio:packagingVersion"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"2.1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v('"koio:additionalMetadata"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"citations.json"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"domain.json"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("...")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v('"koio:hasService"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"service.yaml"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v('"koio:hasDeployment"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"deployment.yaml"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v('"koio:hasPayload"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"le.js"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"lebyagr.json"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v('\n"koio'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v('hasPayloadContainer"'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"payload-directory"')]),e._v('\n"koio'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v('hasPayloadManifest"'),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"payload_manifest.json"')]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("...")]),e._v(" additional descriptive and administrative metadata\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("h4",{attrs:{id:"core-metadata"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#core-metadata"}},[e._v("#")]),e._v(" Core metadata")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("@id")]),e._v(" is a unique identifier for this object that allows it to be resolved within the knowledge grid. The Knowledge Grid currently uses "),t("a",{attrs:{href:"https://n2t.net/e/ark_ids.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("ARK"),t("OutboundLink")],1),e._v(" identifiers natively which interoperate with "),t("a",{attrs:{href:"http://ezid.cdlib.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("EZID"),t("OutboundLink")],1),e._v(" and top-level resolvers like "),t("a",{attrs:{href:"http://www.n2t.net",target:"_blank",rel:"noopener noreferrer"}},[e._v("Name2Thing"),t("OutboundLink")],1),e._v(" and "),t("a",{attrs:{href:"http://www.identifiers.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("Identifiers.org"),t("OutboundLink")],1),e._v(". (Support for other identifiers like "),t("a",{attrs:{href:"http://www.doi.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("DOI"),t("OutboundLink")],1),e._v("s is planned).\n"),t("ul",[t("li",[e._v("It can either be an absolute or relative URL.")]),e._v(" "),t("li",[e._v("See "),t("a",{attrs:{href:"https://w3c.github.io/json-ld-syntax/#node-identifiers",target:"_blank",rel:"noopener noreferrer"}},[e._v("Node Identifiers"),t("OutboundLink")],1),e._v(" section of json-ld syntax.")])])]),e._v(" "),t("li",[t("code",[e._v("@type")]),e._v(" Setting this to "),t("code",[e._v('"koio:KnowledgeObject"')]),e._v(" is what declares this as a Knowledge Object. The Knowledge Grid depends on this when determining whether something is a Knowledge Object.")]),e._v(" "),t("li",[t("code",[e._v("@context")]),e._v("  is used to map koio terms to IRIs (along with other terms). Contexts can either be directly embedded into the document (an embedded context) or be referenced using a URL. Please use the koio context url: http://kgrid.org/koio/contexts/knowledgeobject.jsonld\n"),t("ul",[t("li",[e._v("See "),t("a",{attrs:{href:"https://www.w3.org/TR/json-ld/#the-context",target:"_blank",rel:"noopener noreferrer"}},[e._v("The Context"),t("OutboundLink")],1),e._v(" section of json-ld syntax")])])]),e._v(" "),t("li",[t("code",[e._v("koio:packagingVersion")]),e._v(" The metadata file "),t("conform",[e._v("must")]),e._v(" contain a koio packaging version corresponding to the version of this specification that the object follows.")],1),e._v(" "),t("li",[t("code",[e._v("additional descriptive and administrative metadata")]),e._v(" we recommend using existing schemas and vocabularies (i.e. Dublin Core, etc.) when adding metadata. Some additional metadata "),t("conform",[e._v("may")]),e._v(" be required by particular implementations of Knowledge Grid components or institutional policies.")],1)]),e._v(" "),t("h4",{attrs:{id:"parts-of-a-knowledge-object-structural-data"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#parts-of-a-knowledge-object-structural-data"}},[e._v("#")]),e._v(" Parts of a knowledge object (Structural Data)")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("koio:additionalMetadata")]),e._v(" "),t("proposed",[e._v("(proposed)")]),e._v(" an array of paths for any other metadata files that "),t("conform",[e._v("may")]),e._v(" have been created for this object.")],1),e._v(" "),t("li",[t("code",[e._v("koio:hasService")]),e._v(" the path to the service description file in this Knowledge Object")]),e._v(" "),t("li",[t("code",[e._v("koio:hasDeployment")]),e._v(" the path to the deployment description file in this Knowledge Object")]),e._v(" "),t("li",[t("code",[e._v("koio:hasPayload")]),e._v(" an array of paths to files in the executable payload.")]),e._v(" "),t("li",[t("code",[e._v("koio:hasPayloadContainer")]),e._v(" "),t("proposed",[e._v("(proposed)")]),e._v(" a path to the directory containing payload files")],1),e._v(" "),t("li",[t("code",[e._v("koio:hasPayloadManifest")]),e._v(" "),t("proposed",[e._v("(proposed)")]),e._v(" a path to a manifest file that describes the files in the payload.")],1)]),e._v(" "),t("h3",{attrs:{id:"service-description-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#service-description-2"}},[e._v("#")]),e._v(" Service Description")]),e._v(" "),t("p",[e._v("The Service Description is an "),t("a",{attrs:{href:"http://spec.openapis.org/oas/v3.0.3",target:"_blank",rel:"noopener noreferrer"}},[e._v("OpenAPI 3"),t("OutboundLink")],1),e._v(" document that describes the services (endpoints) implemented by the knowledge object. Each path "),t("conform",[e._v("should")]),e._v(" correspond to an element in the Deployment Descriptor (which describes the implementation of the endpoint). Each path "),t("conform",[e._v("should")]),e._v(" describe the request and response characteristics of the endpoint exposed by the API.")],1),e._v(" "),t("ul",[t("li",[e._v("The OpenAPI Server endpoint "),t("conform",[e._v("should")]),e._v(" use a relative URL that matches the knowledge object identifier. (URLs are relative to the server the service.yaml was fetched from; "),t("code",[e._v("servers")]),e._v(" element "),t("conform",[e._v("should")]),e._v(" point to "),t("code",[e._v("/naan/name")]),e._v(").")],1),e._v(" "),t("li",[e._v("Has an API version, NOT a code version")]),e._v(" "),t("li",[t("conform",[e._v("should")]),e._v(" describe the schemas for the inputs and outputs")],1),e._v(" "),t("li",[e._v("Add "),t("code",[e._v("x-kgrid-activation")]),e._v(" for each path with deployment information ("),t("deprecated",[e._v("deprecated")]),e._v(" in favor of Deployment Description)")],1),e._v(" "),t("li",[e._v("Service paths "),t("conform",[e._v("may")]),e._v(" be multi-level (e.g. "),t("code",[e._v("/welcome/hello/howdy")]),e._v(")")],1)]),e._v(" "),t("h3",{attrs:{id:"deployment-description-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deployment-description-2"}},[e._v("#")]),e._v(" Deployment Description")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("\"@id\": ark:/naan/name/version\nendpoints:\n  /hello:\n      artifact:\n        - 'src/hello.js'\n        - 'src/utils.js'\n      adapter: 'PROXY'\n      engine: 'node'\n      entry: 'src/hello.js'\n      function: 'sayHello'\n  /goodbye:\n      artifact:\n        - 'src/GoodBye.java'\n        - 'src/SomeOtherFile.java'\n      adapter: 'PROXY'\n      engine: 'java'\n      entry: 'src/GoodBye.java'\n      function: 'main'\n")])])]),t("p",[t("conform",[e._v("must")]),e._v(" describe each endpoint that the service implements. Each endpoint "),t("conform",[e._v("must")]),e._v(" correspond to one in the Service Description. "),t("conform",[e._v("should")]),e._v(" be a linked data resource.")],1),e._v(" "),t("ul",[t("li",[t("conform",[e._v("must")]),e._v(" have an "),t("code",[e._v("id")]),e._v(" field that can be resolved to the KO on the shelf.")],1),e._v(" "),t("li",[e._v("Uses the same identifiers (currently ARK) as other kgrid components.")])]),e._v(" "),t("h5",{attrs:{id:"properties-required-by-activator"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#properties-required-by-activator"}},[e._v("#")]),e._v(" Properties required by Activator")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("endpoints")]),e._v(" (Required) Is the map of service paths to deployment information for that path.")]),e._v(" "),t("li",[t("code",[e._v("/<endpoint path>")]),e._v(" (Required) These are the paths for each endpoint.\n"),t("ul",[t("li",[t("code",[e._v("adapter")]),e._v(" (Required, will be "),t("deprecated",[e._v("deprecated")]),e._v(" soon) specifies which adapter the activator "),t("conform",[e._v("should")]),e._v(" use to manage activation with the appropriate runtime. Currently can be "),t("code",[e._v("JAVASCRIPT")]),e._v(" or "),t("code",[e._v("PROXY")]),e._v(". See "),t("RouterLink",{attrs:{to:"/docs/runtimes.html"}},[e._v("Runtime Adapters")])],1),e._v(" "),t("li",[t("code",[e._v("engine")]),e._v(" The runtime that this Knowledge Object needs to be activated in.")])])])]),e._v(" "),t("h5",{attrs:{id:"properties-required-by-runtimes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#properties-required-by-runtimes"}},[e._v("#")]),e._v(" Properties required by Runtimes")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("artifact")]),e._v(" (Required) An array pointing to each artifact this endpoint depends upon. These artifacts are loaded by a runtime at the time of activation. These paths are relative to the Deployment Description.")]),e._v(" "),t("li",[t("code",[e._v("entry")]),e._v(' path to the file in the payload that contains the entry point, or "main" method.')]),e._v(" "),t("li",[t("code",[e._v("function")]),e._v(" the main method that will be called to activate the object.")])]),e._v(" "),t("h3",{attrs:{id:"payload-files"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#payload-files"}},[e._v("#")]),e._v(" Payload Files")]),e._v(" "),t("p",[e._v("The files related to the implementation of the services that this Knowledge Object provides.")]),e._v(" "),t("ul",[t("li",[e._v("Can be in a directory, or all at top level, and "),t("conform",[e._v("should")]),e._v(" be referenced by the Metadata.json in the "),t("code",[e._v("hasPayload")]),e._v(" element.")],1),e._v(" "),t("li",[e._v("Payload files listed in the "),t("code",[e._v("hasPayload")]),e._v(" element are useful for object browsing in libraries, signing, diffing two objects, etc. (The specification of payload objects is currently under development).")]),e._v(" "),t("li",[e._v("Payload files "),t("conform",[e._v("may")]),e._v(" be human or machine readable and of any type.")],1),e._v(" "),t("li",[e._v("Payload files are limited in size only by the limits of the operating system.")]),e._v(" "),t("li",[e._v("There is no limit to the number of payload files.")]),e._v(" "),t("li",[e._v("Payload files "),t("conform",[e._v("should")]),e._v(" be organized in a way that is natural for the code that implements the service.")],1)]),e._v(" "),t("h5",{attrs:{id:"payload-manifest-file-proposed"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#payload-manifest-file-proposed"}},[e._v("#")]),e._v(" Payload Manifest File "),t("proposed",[e._v("(proposed)")])],1),e._v(" "),t("p",[e._v("A json or yaml file that lists payload files in the same format that is used by "),t("code",[e._v("hasPayload")]),e._v(" in metadata.json. Absolute or relative references are accepted.")]),e._v(" "),t("h3",{attrs:{id:"additional-metadata-proposed"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#additional-metadata-proposed"}},[e._v("#")]),e._v(" Additional Metadata "),t("proposed",[e._v("(proposed)")])],1),e._v(" "),t("p",[e._v("Any additional files containing information that "),t("conform",[e._v("may")]),e._v(" be useful to those using this Knowledge Object. For example, linking CBK with supporting/corroborative sources, incl. provenance and additional domain and other descriptive metadata (is extensible).")],1),e._v(" "),t("h2",{attrs:{id:"_4-versioning"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-versioning"}},[e._v("#")]),e._v(" 4. Versioning")]),e._v(" "),t("ul",[t("li",[e._v("both resource and service; e.g. artifact and API versioning")]),e._v(" "),t("li",[t("conform",[e._v("should")]),e._v(" use semantic versioning, but "),t("conform",[e._v("may")]),e._v(" use a versioning scheme appropriate for the particular knowledge domain.")],1),e._v(" "),t("li",[e._v("Service API versions "),t("conform",[e._v("may")]),e._v(" change less often than code versions.")],1),e._v(" "),t("li",[t("proposed",[e._v("(proposed)")]),e._v(" Multiple versions of the same object "),t("conform",[e._v("may")]),e._v(" be packaged together as a knowledge object collection.")],1),e._v(" "),t("li",[e._v("API version (in Service Description: OpenAPI 3 version element) and code version (in metadata.json) do not have to be in sync, but KO developers "),t("conform",[e._v("should")]),e._v(" consider incrementing the API patch version when releasing new versions of an object even if the API did not change.")],1),e._v(" "),t("li",[t("proposed",[e._v("(proposed)")]),e._v(" Version strings "),t("conform",[e._v("should")]),e._v(' be added to the identifier as a qualifier for the ARK (See "ARK Anatomy" section of '),t("a",{attrs:{href:"https://n2t.net/e/ark_ids.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("ARK docs"),t("OutboundLink")],1),e._v(' as well as "Base Identifier Extensions" in '),t("a",{attrs:{href:"https://ezid.cdlib.org/learn/id_concepts",target:"_blank",rel:"noopener noreferrer"}},[e._v("Identifier Concepts and Practices"),t("OutboundLink")],1),e._v(" at the California Digital Library).")],1)]),e._v(" "),t("h2",{attrs:{id:"_5-proposed-integrity-and-signing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-proposed-integrity-and-signing"}},[e._v("#")]),e._v(" 5. "),t("proposed",[e._v("(proposed)")]),e._v(" Integrity and Signing")],1),e._v(" "),t("h2",{attrs:{id:"_6-proposed-packaging-collections"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-proposed-packaging-collections"}},[e._v("#")]),e._v(" 6. "),t("proposed",[e._v("(proposed)")]),e._v(" Packaging Collections")],1)])}),[],!1,null,null,null);t.default=n.exports}}]);